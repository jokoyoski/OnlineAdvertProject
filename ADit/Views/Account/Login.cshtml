@model ADit.Interfaces.ILogOnView

@{
    ViewBag.Title = "Sign in";
}
<div class="mybgimage">
    @using (Html.BeginForm("Login", "Account", FormMethod.Post, new
    {
        id = "loginForm"
    }))
    {
        @Html.AntiForgeryToken()

        <div class="container">

            <div class="row no-gutters pt-5 pb-5">
                <div class="card col-md-4 m-auto ">
                    <div class="card-header">
                        <div class="login-form-header col-xs-6">
                            <h3>
                                <b>Log In</b>
                            </h3>
                        </div>
                    </div>
                    <div class="card-body">
                        <p class="text-danger">@Html.ValidationSummary()</p>
                        <p class="text-danger"> @Model.InfoMessage</p>

                        <div class="form-group">
                            <label class="control-label"> Email <span class="text-danger">*</span></label>
                            <div class="">
                                <input  style="border-color:darkorange" placeholder="Email" class="form-control input" id="Email" name="Email" type="text" value="@Model.Email" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label"> Password <span class="text-danger">*</span></label>
                            <div class="">
                                <input id="password" style="border-color:darkorange" placeholder="Password" name="password" type="password" class="form-control input" value="@Model.Password" tabindex=2 />
                            </div>
                        </div>
                        <input type="hidden" name="rememberMe" id="rememberMe" value="false" />
                        <input type="hidden" name="returnUrl" id="returnUrl" value="@Model.ReturnUrl" />
                       
                        <div class="form-group">
                            <div class="">
                                <input class="grayButton button1" id="loginSubmit" name="loginSubmit" type="submit" value="Sign In" />
                            </div>

                        </div>
                        <div class="form-group">
                            <div class="text-center ">
                                <a href="/Account/Register/">Click here to register an account.</a>
                            </div>

                            <div class="text-center">
                                <a href="/Account/ForgetPassword/">Forget Password?</a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    }

</div>

@section JavaScriptsIncludes
{
    <script src="/Scripts/jquery-ui-1.12.1.js" type="text/javascript"></script>
}

@section JavaScriptsExecution
{
    <script type="text/javascript">
        $(document).ready(function() {

            $('#Email').bind('input propertychange change keydown, keypress',
                function() {
                    $('#password').trigger("propertychange");
                });

            $('#password').bind('input propertychange',
                function() {
                    $('#loginSubmit').prop("class", "grayButton button1");
                    $('#loginSubmit').prop("disabled", false);

                    var usernameOkay = $('#Email').val().length > 0;
                    var passwordOkay = $('#password').val().length > 7;

                    if ((usernameOkay) && (passwordOkay) && (validateEmail($('#Email').val().trim()))) {
                        $('#loginSubmit').prop("class", "blueButton button1");
                        $('#loginSubmit').prop("disabled", false);
                        $('#Email').val($('#Email').val().trim());
                    }
                });

            function validateEmail(sEmail) {
                var filter = /^[\w\-\.\+]+\@@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;
                return filter.test(sEmail);
            }

            $("#forgotUserName").click(function() {
                forgotUserNameDialog();
                return false;
            });

            function forgotUserNameDialog() {
                var html =
                    '<div><p>If you have forgotten your username please contact the System Administrator at 1-800-XXX-XXXXX ' +
                        'or via email at support@omlkonsults.com</p></div>';
                $(html).dialog({
                    title: 'Forgotten your username?',
                    resizable: false,
                    height: 200,
                    width: 510,
                    modal: true,
                    buttons: [{ text: 'Ok', click: function() { $(this).dialog("close"); } }]
                });
            }
        });
    </script>
}

@section Stylesheets{
    <link href="/Content/themes/base/all.css" rel="stylesheet" type="text/css"/>
}