@model ADit.Interfaces.IRadioMainView

@{

    var hasScript = Model.ScriptDigitalFileId > 0;
    var hasMaterial = Model.MaterialDigitalFileId > 0;
}


<div class="container">
    <div class="row">

        <div class="receipt-main col-xs-10 col-sm-10 col-md-12 col-xs-offset-1 col-sm-offset-1 col-md-offset-3">


            <div class="row">
                <div class="receipt-header receipt-header-mid col-12">
                    <div class="col-xs-8 col-sm-8 col-md-8 text-left">
                        <div class="receipt-right">

                            <h5>
                                <b>Name :</b> @Model.FirstName @Model.LastName
                            </h5>

                            <h5>
                                <b>Mobile :</b> @Model.PhoneNumber
                            </h5>

                            <h5>
                                <b>Email :</b> @Model.email
                            </h5>


                            <h5>
                                <b>Date :</b>@Model.DateCreated
                            </h5>

                            <h5>

                                <b>Order Title :</b> @Model.OrderTitle
                            </h5>

                            <h5>

                                <b>Current Status :</b> @Model.CurrentStatusDescription


                            </h5>

                        </div>
                    </div>
                </div>
            </div>
            <div>
                <table class="table table-bordered table-responsive">
                    <thead>
                        <tr>

                            <th>Options</th>
                            <th>Selections</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="col-md-9">Do you Have Script</td>
                            @{
                                if (Model.ScriptDigitalFileId == 0)
                                {
                                    <td class="col-md-7  alert alert-danger">No Script Uploaded</td>
                                }
                                else
                                {
                                    <td class="col-md-7 alert alert-success">Script Uploaded</td>
                                }
                            }

                        </tr>
                        <tr>
                            <td class="col-md-9">Do you Have Material</td>
                            @{
                                if (Model.MaterialDigitalFileId == 0)
                                {
                                    <td class="col-md-7 alert alert-danger">No Material Uploaded</td>
                                }
                                else
                                {
                                    <td class="col-md-7 alert alert-success">Material Uploaded</td>
                                }
                            }

                        </tr>
                        <tr>
                            <td class="col-md-9">Do you have Apcon Approval</td>
                            @{
                                if (Model.IsHaveApconApproval == true)
                                {
                                    <td class="alert alert-light col-md-3"> @Model.ApconApprovalNumber </td>
                                }
                                else
                                {
                                    <td class="alert alert-danger col-md-3"> No Apcon Approval </td>
                                }
                            }

                        </tr>


                        <tr>
                            <td class="col-md-9">Apcon Type</td>
                            @{
                                if (Model.ApconType != null)
                                {
                                    <td class="alert alert-light col-md-3"> @Model.ApconType</td>
                                }
                                else
                                {
                                    <td class="alert alert-danger col-md-3"> No Apcon Type Selected </td>
                                }
                            }

                        </tr>


                        <tr>
                            <td class="col-md-9">Material Type</td>

                            <td>
                                @Model.MaterialTypeName
                            </td>


                        </tr>
                        <tr>

                        <tr>
                            <td class="col-md-12" colspan="2">Additional Information : <br /> @Model.AiringDescription</td>

                        </tr>


                    </tbody>
                </table>
            </div>


            <div class="container-fluid">


                <div class="row">

                    @if (Model.CurrentStatusCode == "SP")
                    {
                        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Create New Script</button>
                    }

                    @if (Model.CurrentStatusCode == "PD")
                    {
                        <button type="button" id="productionButton" class="btn btn-info btn-lg ml-5" data-toggle="modal" data-target="#myModalProduction">Create New Production Material</button>
                    }



                </div>


                @using (Html.BeginForm("OrderFulfilment", "Fulfilment", FormMethod.Post, new { id = "editForm", enctype = "multipart/form-data", encoding = "multipart/form-data" }))
                {
                    @Html.AntiForgeryToken()
                    <input type="text" hidden name="URL" value="RadioTransactions" />
                    <input type="text" hidden value="@Model.CurrentStatusCode" name="currentStatusCode" />
                    <input type="text" hidden value="@Model.OrderFulfilmentId" name="OrderFulfilmentId" />
                    <input type="text" hidden value="@Model.RadioTransactionId" name="transactionId" />
                    <input type="text" hidden value="@Model.OrderId" name="OrderId" />
                    <input type="text" hidden value="@Model.userId" name="CreatedByUserId" />
                    <div class="container mt-1">
                        <div class="row no-gutters">
                            <div class="col-md-10 m-auto card">
                                <div class="card-header">
                                    <h4></h4>
                                </div>
                                <div class="card-body">
                                    @Html.ValidationSummary()


                                    <div class="checkbox">


                                        <label> <input type="checkbox" id="checkBoxId" name="selectedRadioStationIds" /> Send Message</label>
                                    </div>

                                    <div class="form-group">
                                        <label for="scriptMaterial">
                                            Upload :
                                        </label>
                                        <div>
                                            <input type="file" id="Material" name="fileBase" class="btn btn-outline-dark"
                                                   accept=".txt,.doc,.jpg ,.docx,.pdf" title="Upload your Material" />
                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <label for="MaterialDetails">
                                            Script Notes
                                        </label>
                                        <textarea class="form-control" id="mailMessage" name="MailMessage" required rows="4" cols="50"></textarea>
                                    </div>


                                    <div class="form-check-inline">
                                        <label>
                                            <input type="checkbox" id="responseCheckBoxId" name="IsResponseRequired" class="" />
                                            Do you require a Response?
                                        </label>
                                    </div>


                                    <div class="form-group">
                                        <label class="control-label required"><span class="text-danger">*</span> Update Status</label>
                                        <div class="data" style="overflow: hidden;">
                                            @Html.DropDownList("FulfilmentStatusCode", Model.StatusCodeList, new { @class = "form-control", id = "fufilmentStatusCode", required = "required" })
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <input id="fufilmentStatus" class="btn btn-primary" name="submitButton" style="width: 80px;"
                                               type="submit" value="Submit" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>


        </div>

    </div>


</div>


<!-- Scripting Material Modal-->
<div class="container">

    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="title">Create New Script</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>

                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <p class="text-center">Customer will be charged a standard scripting fee. Are you sure you want to Create a new Script ? </p>

                        <div class="text-md-center">
                            <button id="yesScript" class="btn btn-primary ">Yes</button>
                            <button id="noScript" type="button" class="btn btn-default" data-dismiss="modal">No</button>
                        </div>

                        <div class="col-md-6 dropDown">
                            <div class="form-group">
                                <label class="control-label"> Type Of Material: <span class="text-danger">*</span></label>
                                <div class="data" style="overflow: hidden;">

                                    @Html.DropDownList("MaterialTypeId", Model.ActiveMaterialType, new { @class = "form-control", id = "materialTypeId" })

                                </div>


                            </div>
                            <div class="form-inline">
                                <span>Amount :</span><span id="dataValue"></span>
                            </div>
                            @using (Html.BeginForm("ScriptingFulfilmentPayment", "Fulfilment", FormMethod.Post, new { id = "editForm", enctype = "multipart/form-data", encoding = "multipart/form-data" }))
                            {
                                @Html.AntiForgeryToken()

                                <input type="text" hidden value="@Model.OrderId" name="OrderId" />
                                <input type="text" hidden value="RadioTransactions" name="URL" />
                                <input type="text" hidden value="@Model.userId" name="UserId" />
                                <input type="text" hidden value="@Model.OrderFulfilmentId" name="OrderFulfilmentId" />
                                <input type="text" hidden value="" id="amount" name="Price" />

                                <input type="text" hidden value="@Model.RadioTransactionId" name="transactionId" />

                                <input type="submit" id="scriptButton" class="btn btn-primary" value="Submit" />
                            }
                        </div>

                    </div>
                </div>
                <div class="modal-footer">

                </div>
            </div>

        </div>
    </div>

</div>

<!-- Production Material Modal-->
<div class="container">


    <!-- Modal -->
    <div class="modal fade" id="myModalProduction" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="title">Create New Production</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>

                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <p class="text-center">Customer will be charged a standard production material price. Are you sure you want to Create a Production Material ?</p>

                        <div class="text-md-center">
                            <button id="yesProd" class="btn btn-primary ">Yes</button>
                            <button id="noProd" type="button" class="btn btn-default" data-dismiss="modal">No</button>
                        </div>

                        <div class="col-md-6 proddropDown">
                            <div class="form-group">
                                <label class="control-label"> Type Of Material: <span class="text-danger">*</span></label>
                                <div class="data" style="overflow: hidden;">

                                    @Html.DropDownList("MaterialTypeId", Model.ActiveMaterialType, new { @class = "form-control", id = "prodmaterialTypeId" })

                                </div>


                            </div>
                            <div class="form-inline">
                                <span>Amount :</span><span id="proddataValue"></span>
                            </div>
                            @using (Html.BeginForm("ProductionFulfilmentPayment", "Fulfilment", FormMethod.Post, new { id = "editForm", enctype = "multipart/form-data", encoding = "multipart/form-data" }))
                            {
                                @Html.AntiForgeryToken()

                                <input type="text" hidden value="@Model.OrderId" name="OrderId" />
                                <input type="text" hidden value="RadioTransactions" name="URL" />
                                <input type="text" hidden value="@Model.userId" name="UserId" />
                                <input type="text" hidden value="@Model.OrderFulfilmentId" name="OrderFulfilmentId" />

                                <input type="text" hidden value="" id="prodamount" name="Price" />
                                <input type="text" hidden value="@Model.RadioTransactionId" name="transactionId" />

                                <input type="submit" id="prodButton" class="btn btn-primary" value="Submit" />
                            }
                        </div>

                    </div>
                </div>
                <div class="modal-footer">

                </div>
            </div>

        </div>
    </div>

</div>


@section JavaScriptsIncludes
{

    <script src="~/Scripts/Fulfilments/fulfilment.js" type="text/javascript"></script>


}